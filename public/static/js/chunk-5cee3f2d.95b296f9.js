(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cee3f2d"],{"3a54":function(t,e,n){"use strict";n("e691")},6294:function(t,e,n){"use strict";n.d(e,"o",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"l",(function(){return i})),n.d(e,"e",(function(){return u})),n.d(e,"x",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"B",(function(){return s})),n.d(e,"k",(function(){return p})),n.d(e,"n",(function(){return f})),n.d(e,"y",(function(){return v})),n.d(e,"w",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"j",(function(){return h})),n.d(e,"c",(function(){return y})),n.d(e,"p",(function(){return g})),n.d(e,"t",(function(){return _})),n.d(e,"h",(function(){return j})),n.d(e,"r",(function(){return C})),n.d(e,"g",(function(){return O})),n.d(e,"z",(function(){return k})),n.d(e,"q",(function(){return S})),n.d(e,"f",(function(){return V})),n.d(e,"s",(function(){return D})),n.d(e,"A",(function(){return A})),n.d(e,"v",(function(){return P})),n.d(e,"d",(function(){return w})),n.d(e,"u",(function(){return z})),n.d(e,"m",(function(){return K}));var c=n("b775"),o=n("f367");function a(t){return Object(c["a"])({url:"/cloud_providers",method:"get",params:t})}function r(t){return Object(c["a"])({url:"/cloud_provider",method:"post",data:t})}function i(t,e){return Object(c["a"])({url:"/cloud_provider/"+t,method:"put",data:e})}function u(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/check",method:"get"})}function l(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/instances",method:"get"})}function d(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/instance",method:"post",data:e})}function s(t,e,n){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/instance/"+e,method:"patch",data:n})}function p(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/instance/"+e,method:"delete"})}function f(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/instance/"+e+"/ansible/ops/logs",method:"get"})}function v(t,e,n){return Object(o["a"])({url:"/cloud_provider/"+t+"/vultr/instance/"+e+"/ansible/ops",method:"post",data:n})}function m(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/sshkeys",method:"get"})}function b(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/sshkey",method:"post",data:e})}function h(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/vultr/sshkey/"+e,method:"delete"})}function y(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/check",method:"get"})}function g(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/accounts",method:"get"})}function _(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones",method:"get"})}function j(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zone",method:"post",data:e})}function C(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones/"+e+"/dns_records",method:"get"})}function O(t,e,n){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones/"+e+"/dns_records",method:"post",data:n})}function k(t,e,n,o){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones/"+e+"/dns_records/"+n,method:"patch",data:o})}function S(t,e){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones/"+e+"/certificates",method:"get"})}function V(t,e,n){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones/"+e+"/certificates",method:"post",data:n})}function D(t,e){return Object(o["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones/"+e+"/settings/ssl",method:"get"})}function A(t,e,n){return Object(c["a"])({url:"/cloud_provider/"+t+"/cloudflare/zones/"+e+"/settings/ssl",method:"patch",data:n})}function P(t,e){return Object(o["a"])({url:"/local_vps/cloud_provider/"+t+"/vultr/instance/"+e,method:"get"})}function w(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/godaddy/check",method:"get"})}function z(t){return Object(c["a"])({url:"/cloud_provider/"+t+"/godaddy/domains",method:"get"})}function K(t,e,n){return Object(o["a"])({url:"/cloud_provider/"+t+"/godaddy/domains/"+e,method:"patch",data:n})}},9406:function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container"},[n("el-row",{staticStyle:{margin:"20px 0"}},[n("el-col",[n("span",[t._v("Cloud Services")])])],1),n("el-row",{attrs:{type:"flex",justify:"space-around"}},[n("el-col",{attrs:{span:4}},[n("a",{on:{click:function(e){return e.preventDefault(),t.jump2detail("vps")}}},[n("el-card",{staticClass:"cloud-card"},[n("div",{staticClass:"cloud-type"},[t._v("VPS")]),n("div",{staticClass:"cloud-count"},[t.cloudConfigs.vps.addBtnVisible?n("el-button",{staticClass:"cloud-add-btn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.addAccount("vps")}}},[t._v("Add")]):n("div",[n("span",[t._v("Vultr")]),n("i",{staticClass:"el-icon-info el-icon--right",staticStyle:{color:"white"}})])],1)])],1)]),n("el-col",{attrs:{span:4}},[n("a",{on:{click:function(e){return e.preventDefault(),t.jump2detail("cdn")}}},[n("el-card",{staticClass:"cloud-card"},[n("div",{staticClass:"cloud-type"},[t._v("CDN")]),n("div",{staticClass:"cloud-count"},[t.cloudConfigs.cdn.addBtnVisible?n("el-button",{staticClass:"cloud-add-btn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.addAccount("cdn")}}},[t._v("Add")]):n("div",[n("span",[t._v("Cloudflare")]),n("i",{staticClass:"el-icon-info el-icon--right",staticStyle:{color:"white"}})])],1)])],1)]),n("el-col",{attrs:{span:4}},[n("a",{on:{click:function(e){return e.preventDefault(),t.jump2detail("domain")}}},[n("el-card",{staticClass:"cloud-card"},[n("div",{staticClass:"cloud-type"},[t._v("Domain")]),n("div",{staticClass:"cloud-count"},[t.cloudConfigs.domain.addBtnVisible?n("el-button",{staticClass:"cloud-add-btn",attrs:{type:"primary",icon:"el-icon-circle-plus-outline",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.addAccount("domain")}}},[t._v("Add")]):n("div",[n("span",[t._v("Godaddy")]),n("i",{staticClass:"el-icon-info el-icon--right",staticStyle:{color:"white"}})])],1)])],1)])],1),n("el-dialog",{attrs:{title:"VPS - Add Account",visible:t.dialogVisible,"destroy-on-close":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"form",attrs:{model:t.account,rules:t.rules,"label-width":"140px"}},[n("el-form-item",{attrs:{label:"Cloud Type"}},[n("el-select",{model:{value:t.account.type,callback:function(e){t.$set(t.account,"type",e)},expression:"account.type"}},t._l(t.types,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"Cloud Provider"}},[n("el-select",{model:{value:t.account.name,callback:function(e){t.$set(t.account,"name",e)},expression:"account.name"}},t._l(t.providers,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"Account",prop:"account"}},[n("el-input",{model:{value:t.account.account,callback:function(e){t.$set(t.account,"account",e)},expression:"account.account"}})],1),n("el-form-item",{attrs:{label:"API Key",prop:"apiKey"}},[n("el-input",{model:{value:t.account.apiKey,callback:function(e){t.$set(t.account,"apiKey",e)},expression:"account.apiKey"}})],1),t.apiSecretVisible?n("el-form-item",{attrs:{label:"API Secret",prop:"apiSecret"}},[n("el-input",{model:{value:t.account.apiSecret,callback:function(e){t.$set(t.account,"apiSecret",e)},expression:"account.apiSecret"}})],1):t._e(),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.submitAccount}},[t._v("Confirm")]),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")])],1)],1)],1)],1)},o=[],a=n("5530"),r=(n("a434"),n("d3b7"),n("159b"),n("caad"),n("2532"),n("b0c0"),n("2f62")),i=n("2ef0"),u=n.n(i),l=n("6294"),d={name:"Dashboard",data:function(){return{dialogVisible:!1,apiSecretVisible:!1,account:{name:"",type:"",account:"",apiKey:"",apiSecret:""},types:[],providers:[],rules:{account:[{required:!0,message:"Please type in your account",trigger:"blur"}],apiKey:[{required:!0,message:"Please type in the api key of your account",trigger:"blur"}],apiSecret:[{required:!0,message:"Please type in the api secret of your account",trigger:"blur"}]},cloudConfigs:{vps:{name:"VPS",value:"vps",apiSecretVisible:!1,addBtnVisible:!0,providers:[{name:"Vultr",value:"vultr"}]},cdn:{name:"CDN",value:"cdn",apiSecretVisible:!1,addBtnVisible:!0,providers:[{name:"Cloudflare",value:"cloudflare"}]},domain:{name:"Domain",value:"domain",apiSecretVisible:!0,addBtnVisible:!0,providers:[{name:"Godaddy",value:"godaddy"}]}},accountData:{vps:[],cdn:[],domain:[]},actionLogData:[]}},created:function(){this.fetchCloudProviders()},methods:{fetchCloudProviders:function(){var t=this;Object(l["o"])({}).then((function(e){var n=e.code,c=e.data;0==n&&(t.accountData["vps"].splice(0,t.accountData["vps"].length),t.accountData["cdn"].splice(0,t.accountData["cdn"].length),t.accountData["domain"].splice(0,t.accountData["domain"].length),Array.isArray(c)&&c.length>0&&c.forEach((function(e){u.a.includes(["vps","cdn","domain"],e.type)&&t.accountData[e.type].push(e)})),["vps","cdn","domain"].forEach((function(e){0!=t.accountData[e].length&&(t.cloudConfigs[e].addBtnVisible=!1)})))})).catch((function(t){console.log(t)}))},addAccount:function(t){this.resetForm(),this.types.splice(0,this.types.length),this.types.push(this.cloudConfigs[t]),this.providers=this.cloudConfigs[t]["providers"],this.account.type=this.cloudConfigs[t]["value"],this.account.name=this.providers[0]["value"],this.apiSecretVisible=this.cloudConfigs[t]["apiSecretVisible"],this.dialogVisible=!0},resetForm:function(){this.account={name:"",type:"",account:"",apiKey:"",apiSecret:""}},submitAccount:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;var n={name:t.account.name,type:t.account.type,account:t.account.account};return"vultr"==t.account.name?n.vultr_config={api_key:t.account.apiKey,ssh_key_id:"",ssh_private_key:""}:"cloudflare"==t.account.name?n.cloudflare_config={api_key:t.account.apiKey,email:t.account.account}:"godaddy"==t.account.name&&(n.godaddy_config={api_key:t.account.apiKey,api_secret:t.account.apiSecret}),Object(l["a"])(n).then((function(e){t.$message({message:"Success",type:"success"}),t.dialogVisible=!1,t.fetchCloudProviders()})).catch((function(t){})),!0}))},jump2detail:function(t){var e="/provider/"+t;console.log(e),this.$router.push({path:e})}},computed:Object(a["a"])({},Object(r["b"])(["name"]))},s=d,p=(n("3a54"),n("2877")),f=Object(p["a"])(s,c,o,!1,null,"1443e2d1",null);e["default"]=f.exports},e691:function(t,e,n){},f367:function(t,e,n){"use strict";n("d3b7");var c=n("bc3a"),o=n.n(c),a=(n("5c96"),n("4360")),r=n("5f87"),i=o.a.create({baseURL:"/",withCredentials:!0,timeout:5e3});i.interceptors.request.use((function(t){return a["a"].getters.token&&(t.headers["JWT-Token"]=Object(r["a"])()),t}),(function(t){return console.log(t),Promise.reject(t)})),e["a"]=i}}]);